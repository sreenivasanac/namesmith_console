// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  previewFeatures = ["postgresqlExtensions"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model DomainName {
  id                String   @id @default(cuid())
  domainName        String   @unique
  createdAt         DateTime @default(now())
  tld               String
  length            Int
  processedByAgent  String
  agentModel        String

  evaluation         DNEvaluation? @relation("DomainEvaluation", fields: [domainName], references: [domainName])
  seoAnalysis        DNSEOAnalysis? @relation("DomainSEOAnalysis", fields: [domainName], references: [domainName])
  availabilityStatus DNAvailabilityStatus? @relation("DomainAvailabilityStatus", fields: [domainName], references: [domainName])
}

model DNAvailabilityStatus {
  id                String   @id @default(cuid())
  domainName        String   @unique
  relatedDomain     DomainName @relation(fields: [domainName], references: [domainName])
  status            String
  processedByAgent  String
  agentModel        String
  createdAt         DateTime @default(now())
}

model DNEvaluation {
  id                    String   @id @default(cuid())
  domainName            String   @unique
  relatedDomain         DomainName @relation(fields: [domainName], references: [domainName])
  possibleCategories    String[]
  possibleKeywords      String[]
  memorabilityScore     Int
  pronounceabilityScore Int
  brandabilityScore     Int
  description           String
  overallScore          Int
  processedByAgent      String
  agentModel            String
  createdAt             DateTime @default(now())
}

model DNSEOAnalysis {
  id                       String   @id @default(cuid())
  domainName               String   @unique
  relatedDomain            DomainName @relation(fields: [domainName], references: [domainName])
  seoKeywords              String[]
  seoKeywordRelevanceScore Int
  industryRelevanceScore   Int
  domainAge                Int
  potentialResaleValue     Int
  language                 String
  trademarkStatus          String?
  scoredByAgent            String
  agentModel               String
  description              String
  createdAt                DateTime @default(now())
}

enum QueryMode {
  default
  insensitive
}
